{"version":3,"sources":["assets/icon-back.svg","widgets/buttons/AnchorButton.tsx","widgets/buttons/DefaultButton.tsx","components/AboutPage.tsx","assets/ko-fi-icon.png","assets/github-icon.png","services/database.ts","models/ObjectTypes.ts","models/Track.ts","models/DatabaseTypes.ts","utils/storeUtil.ts","services/localStorage.ts","slices/groups.ts","slices/index.ts","assets/icon-add.svg","widgets/buttons/AddSoundsButton.tsx","assets/icon-search.svg","widgets/SearchField.tsx","widgets/Tag.tsx","components/SearchDropdown/SearchItem.tsx","components/SearchDropdown/SearchDropdown.tsx","assets/icon-close.svg","utils/audioFileUtil.ts","utils/mathUtil.ts","hooks/useFadeMultiplier.ts","hooks/useTrackData.ts","hooks/useBoolean.ts","hooks/useVolume.ts","assets/icon-play.svg","assets/icon-stop.svg","widgets/buttons/FlameButton.tsx","assets/torch-handle.svg","assets/icon-info.svg","assets/icon-volume.svg","widgets/RangeInput.tsx","widgets/VolumeControls.tsx","utils/typeUtil.ts","components/TrackList/TrackSource.tsx","components/TrackList/TrackItem.tsx","components/TrackList/LoopTrackItem.tsx","hooks/useLoopPlayer.ts","hooks/useOneShotPlayer.ts","components/TrackList/OneShotRange.tsx","components/TrackList/OneShotTrackItem.tsx","components/TrackList/UnloadedTrackItem.tsx","assets/icon-start-all.svg","assets/icon-caret-down.svg","assets/icon-caret-right.svg","components/TrackListGroupSummary.tsx","components/TrackList/GroupControls.tsx","widgets/EditableHeader.tsx","components/TrackList/TrackListGroup.tsx","components/TrackList/TrackList.tsx","components/SearchDropdown/useSearchResults.ts","logo.svg","assets/icon-question-mark.svg","widgets/AppHeader.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["AnchorButton","url","className","icon","iconAltText","text","imgContent","undefined","src","alt","computedClassName","href","target","rel","DefaultButton","onClick","isDisabled","isRound","isActive","isFullWidth","textContent","disabled","AboutPage","closeAboutPage","backIcon","fetchSearchResults","searchText","a","trimmedSearchText","trim","length","fetch","response","json","results","fetchTrackDataById","trackId","result","ObjectType","isLoop","track","fileName","isOneShot","samples","isUnloaded","ERROR_TYPE","getNextIndex","indexedItems","maxIndex","forEach","index","getGroupByIndex","groupIndex","groups","find","group","getTrackByIndex","trackIndex","tracks","GROUPS","saveGroups","localStorage","setItem","JSON","stringify","groupsSlice","createSlice","name","initialState","reducers","newGroup","state","payload","push","volume","isExpanded","addSearchResult","searchResult","type","PACK","unshift","id","tags","isMuted","isPlaying","oneShotConfig","minSecondsBetween","maxSecondsBetween","addSearchResultToGroup","removeTrack","filter","setTrackData","trackData","Object","assign","setTrackVolume","setTrackIsMuted","setTrackIsPlaying","removeGroup","newGroupList","setGroupName","setGroupIsPlaying","map","setGroupIsExpanded","setGroupVolume","startAllInGroup","stopAllInGroup","setOneShotRange","loadGroupsFromStorage","newState","storedGroupsString","getItem","parsedGroupsString","parse","Array","isArray","storedGroups","loadGroups","actions","rootReducer","combineReducers","groupsReducer","AddSoundsButton","addIcon","SearchField","props","inputRef","useRef","useEffect","current","focus","select","searchIcon","placeholder","placeholderText","value","onChange","e","ref","role","autoFocus","onCancel","Tag","isClickable","handleClick","tabIndex","onKeyDown","event","key","SearchItem","data","packCountElement","filteredTags","tag","SearchDropdown","closeSearchDropdown","setSearchText","isFetchingResults","appendSearchText","searchTarget","dispatch","useDispatch","resultElements","onSearchItemClick","mainContent","getAudioFileUrl","fileType","Audio","canPlayType","clamp","min","max","useFadeMultiplier","isFadingIn","useState","fadeMultiplier","setFadeMultiplier","direction","interval","setInterval","change","PERCENT_CHANGE_PER_SECOND","_fadeMultiplier","clearInterval","useTrackData","isLoaded","isLoadingData","setIsLoadingData","setResults","isCancelled","fetchData","useBoolean","initialValue","setValue","toggleValue","useVolume","initialVolume","isInitiallyMuted","setVolume","toggleIsMuted","FlameButton","ariaLabel","aria-label","stopIcon","playIcon","RangeInput","step","onValueChange","getAriaValueText","Slider","classes","root","thumb","rail","vertical","VolumeControls","volumeIcon","TrackSource","source","author","urls","TrackItem","toggleIsPlaying","isAudioReady","isSearchOpen","onTagClick","additionalControls","toggleIsExpanded","tagList","torchHandle","closeIcon","infoIcon","LoopTrackItem","loop","isVisible","groupVolume","isAudioLoaded","setIsLoaded","howl","setHowl","wasDeleted","newHowl","Howl","onload","fade","FADE_DURATION_SECONDS","once","unload","playing","play","stop","useLoopPlayer","SERIALIZATION_DELIMITER","useOneShotPlayer","wickRef","howls","setHowls","shouldPlayNow","setShouldPlayNow","timerStartTimestamp","setTimerStartTimestamp","timerDuration","setTimerDuration","serializedSources","filename","join","serializeSources","sources","split","deserializeSources","newHowls","appendToHowlList","_howls","performance","now","timerLength","b","intA","Math","round","intB","range","random","randIntBetween","timeout","setTimeout","clearTimeout","wickAnimationRafId","requestAnimationFrame","animateWick","time","percentageRemaining","style","transform","cancelAnimationFrame","randomIndex","floor","playNow","OneShotRange","OneShotTrackItem","oneShot","computedVolume","configurableRange","newIsPlayingValue","UnloadedTrackItem","unloadedTrack","TrackListGroupSummary","playingCount","notPlayingCount","GroupControls","isChildPlaying","caretDownIcon","caretRightIcon","startAllIcon","EditableHeader","initialText","onSave","setText","isEditModeActive","toggleIsEditModeActive","trimmedText","nonEmptyText","onBlur","constructKey","listItemFromTrack","isGroupExpanded","LOOP","isUnloadedLoop","TrackListGroup","setSearchTarget","isSearchModeActive","isThisGroupSearching","NEW_GROUP","TrackList","useSelector","fetchFunction","setIsFetchingResults","useSearchResults","addButtonText","AppHeader","isAboutOpen","setIsAboutOpen","logo","questionMarkIcon","App","keyPressHandler","window","addEventListener","removeEventListener","Boolean","location","hostname","match","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.b835fefb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/icon-back.a9e1d42f.svg\";","import React from \"react\";\r\n\r\nimport \"./AnchorButton.scss\";\r\n\r\ntype AnchorButtonProps = {\r\n  url: string,\r\n  className?: string,\r\n  icon?: string, // icon should be an imported image\r\n  iconAltText?: string,\r\n  text?: string\r\n};\r\n\r\nexport default function AnchorButton({\r\n  url,\r\n  className,\r\n  icon,\r\n  iconAltText,\r\n  text\r\n}: AnchorButtonProps) {\r\n  const imgContent = icon === undefined ? null : <img src={icon} alt={iconAltText ?? ''} />;\r\n  const computedClassName = 'anchor-button-container '\r\n    + (className ? className + ' ' : '')\r\n  return (\r\n    <a\r\n      className={computedClassName}\r\n      href={url}\r\n      target=\"_blank\"\r\n      rel=\"noopener noreferrer\"\r\n    >\r\n      {imgContent}\r\n      <span>{text ?? url}</span>\r\n    </a>\r\n  );\r\n}","import React from \"react\";\r\n\r\nimport \"./DefaultButton.scss\";\r\n\r\ntype DefaultButtonProps = {\r\n  text?: string,\r\n  icon?: string, // icon should be an imported image\r\n  iconAltText?: string,\r\n  onClick: () => void,\r\n  className?: string,\r\n  isDisabled?: boolean,\r\n  isRound?: boolean,\r\n  isActive?: boolean,\r\n  isFullWidth?: boolean\r\n};\r\n\r\nexport default function DefaultButton({\r\n  text,\r\n  icon,\r\n  iconAltText,\r\n  onClick,\r\n  className,\r\n  isDisabled = false,\r\n  isRound = false,\r\n  isActive = false,\r\n  isFullWidth = false\r\n}: DefaultButtonProps) {\r\n\r\n  if (text === undefined && icon === undefined) return null;\r\n  const textContent = text === undefined ? null : <span>{text}</span>;\r\n  const imgContent = icon === undefined ? null : <img src={icon} alt={iconAltText ?? ''} />;\r\n\r\n  const computedClassName = 'default-button-container '\r\n    + (className ? className + ' ' : '')\r\n    + (icon !== undefined && text === undefined ? 'icon-only ' : '')\r\n    + (isRound ? 'round ' : '')\r\n    + (isActive ? 'active ' : '')\r\n    + (isFullWidth ? 'full-width ' : '');\r\n\r\n  return (\r\n    <button\r\n      className={computedClassName}\r\n      onClick={onClick}\r\n      disabled={isDisabled}\r\n    >\r\n      {imgContent}\r\n      {textContent}\r\n    </button>\r\n  )\r\n};","import React from \"react\";\r\n\r\nimport kofiIcon from \"../assets/ko-fi-icon.png\";\r\nimport githubIcon from \"../assets/github-icon.png\";\r\nimport backIcon from \"../assets/icon-back.svg\";\r\n\r\nimport \"./AboutPage.scss\";\r\nimport AnchorButton from \"../widgets/buttons/AnchorButton\";\r\nimport DefaultButton from \"../widgets/buttons/DefaultButton\";\r\n\r\ntype AboutPageProps = {\r\n  closeAboutPage: () => void;\r\n};\r\n\r\nexport default function AboutPage({ closeAboutPage }: AboutPageProps) {\r\n  return (\r\n    <div className=\"about-page-container\">\r\n      <section>\r\n        <h4>Music and effects at the speed of sound.</h4>\r\n        <p>\r\n          Spice up your&nbsp;\r\n          <a href=\"https://en.wikipedia.org/wiki/Tabletop_role-playing_game\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\">\r\n            tabletop RPG\r\n          </a>\r\n          &nbsp;games and boost player immersion.\r\n        </p>\r\n        <ul>\r\n          <li>Fade seamlessly between groups of sounds</li>\r\n          <li>Search hundreds of sounds</li>\r\n          <li>Improvise with ease when the party goes somewhere unexpected</li>\r\n        </ul>\r\n      </section>\r\n      <section>\r\n        <h4>Always leveling up.</h4>\r\n        <p>\r\n          Please send any feedback, bugs, or ideas to &nbsp;\r\n          <a href=\"mailto:phanarydev@gmail.com\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\">\r\n            phanarydev@gmail.com\r\n          </a>\r\n          .\r\n        </p>\r\n        <p>\r\n          I built TurboBard to add some juice to my games and\r\n          I hope it helps you too! The tool is 100% free to use.\r\n          If you'd like, you can&nbsp;\r\n          <a href=\"https://ko-fi.com/projectbench\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\">\r\n            donate\r\n          </a>\r\n          &nbsp;to help cover the costs of running it.\r\n        </p>\r\n        <div className=\"button-group\">\r\n          <AnchorButton\r\n            className=\"ko-fi-button\"\r\n            url=\"https://ko-fi.com/projectbench\"\r\n            icon={kofiIcon}\r\n            iconAltText=\"Ko-Fi logo\"\r\n            text=\"Support me\"\r\n          />\r\n          <AnchorButton\r\n            className=\"github-button\"\r\n            url=\"https://github.com/bencodrington/turbo-bard\"\r\n            icon={githubIcon}\r\n            iconAltText=\"GitHub logo\"\r\n            text=\"Code\"\r\n          />\r\n        </div>\r\n        <p>\r\n          Recent changes:\r\n        </p>\r\n        <ul>\r\n          <li>Fixed bug where duplicate sounds wouldn't play</li>\r\n          <li>Minor tweaks to make controls more intuitive</li>\r\n        </ul>\r\n        <p>\r\n          Upcoming features:\r\n        </p>\r\n        <ul>\r\n          <li>Upload your own sounds</li>\r\n          <li>Online multiplayer</li>\r\n        </ul>\r\n      </section>\r\n      <section>\r\n        <h4>About the audio.</h4>\r\n        <p>\r\n          I’ve collected sounds from across the Internet with\r\n          permissive licenses to use them here.\r\n          I’ve linked the source and listed the author wherever\r\n          possible.\r\n        </p>\r\n        <p>\r\n          If TurboBard features your sound and you’d like it\r\n          to be removed or modified for any reason,\r\n          please don’t hesitate to contact me at&nbsp;\r\n          <a href=\"mailto:phanarydev@gmail.com\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\">\r\n            phanarydev@gmail.com\r\n          </a>\r\n          .\r\n        </p>\r\n      </section>\r\n      <section>\r\n        <h4>Data policy.</h4>\r\n        <p>\r\n          TurboBard doesn't use any cookies.\r\n          No personal data is recorded at any time.\r\n        </p>\r\n      </section>\r\n      <section>\r\n        <DefaultButton\r\n          icon={backIcon}\r\n          text=\"Back\"\r\n          iconAltText=\"Back arrow\"\r\n          onClick={closeAboutPage}\r\n        />\r\n      </section>\r\n    </div>\r\n  );\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlkAAAJYCAYAAABRpPPiAAAACXBIWXMAAAsSAAALEgHS3X78AAAeDUlEQVR4nO3dP5BcxZ3A8cZFghxoXSVSaS+zIsngEFkiAWcILjtMIaqMHSJC/rgs6gwOEZcZXMWqbMKDVWaceAWExkiJIWNXKQTa4ESoq9a+Ka1W+2dm5/3m9ev+fKq21nXlw7P9lp3vdPfr99CdO3cSAAD9+pHxBADon8gCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACIL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ACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAAAogsAIAAIgsAIIDIAgAIILIAAAKILACAACILACCAyAIACCCyAAACiCwAgAAiCwAggMgCAAggsgAA+pZS+n8++k5QM42SigAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jUqS1wAAApVJREFUeNq0l89rE1EQx3e3gVJoSPzZeNEWPKgHoa0HBak0iHiy/4C3WvDmoZ56qJ7txVsPQu8qlqqHIhRKJZceesmhioQEfxTEtsoSpdJg1u/ABJ7Pmc1m8zLwgWTmzcw3L+/te+tHUeQltONgCkyCi2AEDHLsJ6iBMlgHL8FeoqokoA2j4CloRMmtwTmj7erHBXPgCWhG6a3JNXKdCiDl1cidVbXZkJoXQRi5t5BrxwoY71FzU8S4JuAIqFkJ2+BFSlEh525b/hr3+k/AklDkNsf6wTT4yv46KIMNpsy+iMdMc47HNWxbsgVcUn7FmLAzzoFAWDsBx+wVP6bUpp5ewI+DOeUx0Wd9D8F70BTGNjkWtqnhmT1JQAHcUgZd8Lo3rQb1LAT8eJVUfgGvHQigGp+V2Z0iAUUl8QH47kAA1XioxIo+bRN8OG8F/oBjwv+Z1nJgX5jpdzQDw0LCjsPmrcW7I/iHScCAEDj03FtD8A0EyuChHgg4KTlJQF3wZ7WELppnBX+dBFSVpJsOBWi1qiRgSwnOgoyD5hmuJdkWCVhTgnTvW3AgYIFrSbZGh0UW/Io5Vp+DQoK7o80pztWMemZbgxeNwCNwDbw1fIfgGZjhU6xPaJgBV8BdsMw5cbZoHsenwYFxkZzl83xTSKTiviCAfCsJLysH3POfC8m8NegyGAGfLP/VmGmfSChgXroR0RSWjEFv2J/nG84cuKFMf4sTCZqXuJd4KaXFVjEG3+tw4eXbNK/YC9oXXs3O8NY8y99L4BXY5cvLY/Bb2VZ58EOJVcB18DHJq9lRsKr8inyKGVjlmh29mtHs3AHfuhCwy1vXT/Nu2GKQt+UHsGdctyX6eQyNvc+5sfX9Dl7Pe2J/BRgAl2CpwmrsHR0AAAAASUVORK5CYII=\"","import { TrackData } from \"../models/DatabaseTypes\";\r\nimport { SearchResult } from \"../models/SearchResult\";\r\n\r\nexport async function fetchSearchResults(searchText: string): Promise<SearchResult[]> {\r\n  const trimmedSearchText = searchText.trim();\r\n  if (trimmedSearchText.length === 0) {\r\n    return [];\r\n  }\r\n  // const response = await fetch(`http://localhost:5001/turbo-bard/us-central1/search?searchText=${searchText}`);\r\n  const response = await fetch(`https://us-central1-turbo-bard.cloudfunctions.net/search?searchText=${trimmedSearchText}`);\r\n  const results = await response.json();\r\n  return results as SearchResult[];\r\n}\r\n\r\nexport async function fetchTrackDataById(trackId: string) {\r\n  const response = await fetch(`https://us-central1-turbo-bard.cloudfunctions.net/fetchTrackDataById?trackId=${trackId}`);\r\n  const result = await response.json();\r\n  return result as TrackData;\r\n}","export enum ObjectType {\r\n  LOOP = 'LOOP',\r\n  ONESHOT = 'ONESHOT',\r\n  PACK = 'PACK'\r\n};","import { ERROR_TYPE } from \"./DatabaseTypes\";\r\nimport { ObjectType } from \"./ObjectTypes\";\r\n\r\nexport type TrackMetadata = {\r\n  name: string,\r\n  source: {\r\n    author?: string,\r\n    urls: string[]\r\n  },\r\n  tags: string[]\r\n};\r\n\r\n/// Stored locally in the store\r\n\r\nexport type Loop = {\r\n  id: string,\r\n  index: number,\r\n  volume: number,\r\n  isMuted: boolean,\r\n  isPlaying: boolean,\r\n  fileName: string\r\n} & TrackMetadata;\r\n\r\nexport type OneShot = {\r\n  id: string,\r\n  index: number,\r\n  volume: number,\r\n  isMuted: boolean,\r\n  isPlaying: boolean,\r\n  samples: string[],\r\n  minSecondsBetween: number,\r\n  maxSecondsBetween: number\r\n} & TrackMetadata;\r\n\r\nexport type UnloadedTrack = {\r\n  id: string,\r\n  index: number,\r\n  volume: number,\r\n  isMuted: boolean,\r\n  isPlaying: boolean,\r\n  // These optional properties are present when loading from a track search result,\r\n  //  but not when loading from a pack\r\n  name?: string,\r\n  type?: ObjectType | typeof ERROR_TYPE,\r\n  tags?: string[]\r\n};\r\n\r\nexport function isLoop(track: Track): track is Loop {\r\n  return (track as Loop).fileName !== undefined;\r\n}\r\n\r\nexport function isOneShot(track: Track): track is OneShot {\r\n  return (track as OneShot).samples !== undefined;\r\n}\r\n\r\nexport function isUnloaded(track: Track): track is UnloadedTrack {\r\n  return (track as Loop).fileName === undefined &&\r\n    (track as OneShot).samples === undefined;\r\n}\r\n\r\nexport function isUnloadedLoop(track: Track): track is UnloadedTrack {\r\n  return isUnloaded(track) && track.type === ObjectType.LOOP;\r\n}\r\n\r\nexport type Track = Loop | OneShot | UnloadedTrack;","import { TrackMetadata } from \"../models/Track\";\r\nimport { ObjectType } from \"./ObjectTypes\";\r\n\r\nexport type LoopData = {\r\n  id: string,\r\n  type: ObjectType.LOOP\r\n  fileName: string\r\n} & TrackMetadata;\r\n\r\nexport type OneShotData = {\r\n  id: string,\r\n  type: ObjectType.ONESHOT\r\n  trackMetadata: TrackMetadata,\r\n  samples: string[],\r\n  minSecondsBetween?: number,\r\n  maxSecondsBetween?: number\r\n} & TrackMetadata;\r\n\r\nexport const ERROR_TYPE = 'ERROR';\r\n\r\nexport type TrackDataError = {\r\n  id: string,\r\n  type: typeof ERROR_TYPE\r\n};\r\n\r\nexport function isLoopData(trackData: TrackData): trackData is LoopData {\r\n  return (trackData as LoopData).fileName !== undefined;\r\n}\r\n\r\nexport function isOneShotData(trackData: TrackData): trackData is OneShotData {\r\n  return (trackData as OneShotData).samples !== undefined;\r\n}\r\n\r\nexport type TrackData = LoopData | OneShotData;","import { SearchResult } from \"../models/SearchResult\";\r\nimport { Group } from \"../models/Group\";\r\n\r\nexport const DEFAULT_VOLUME = 0.7;\r\n\r\nexport function getNextIndex(indexedItems: { index: number }[]) {\r\n  let maxIndex = -1;\r\n  indexedItems.forEach(indexedItems => {\r\n    if (indexedItems.index > maxIndex) {\r\n      maxIndex = indexedItems.index;\r\n    }\r\n  });\r\n  return maxIndex + 1;\r\n}\r\n\r\nexport function addSearchResultToGroup(\r\n  searchResult: SearchResult,\r\n  group: Group\r\n) {\r\n  const { id, name, type, tags, tracks } = searchResult;\r\n  if (tracks !== undefined) {\r\n    // Result is a pack\r\n    tracks.forEach(track => {\r\n      const { id, volume, oneShotConfig } = track;\r\n      group.tracks.push({\r\n        id,\r\n        volume,\r\n        isMuted: false,\r\n        index: getNextIndex(group.tracks),\r\n        isPlaying: false,\r\n        minSecondsBetween: oneShotConfig?.minSecondsBetween,\r\n        maxSecondsBetween: oneShotConfig?.maxSecondsBetween,\r\n      });\r\n    })\r\n    return;\r\n  }\r\n  // Result is an individual track\r\n  group.tracks.push({\r\n    id,\r\n    index: getNextIndex(group.tracks),\r\n    name,\r\n    type,\r\n    tags,\r\n    volume: DEFAULT_VOLUME,\r\n    isMuted: false,\r\n    isPlaying: false\r\n  });\r\n}\r\n\r\nexport function getGroupByIndex(\r\n  groupIndex: number,\r\n  groups: Group[]\r\n) {\r\n  return groups.find(group => group.index === groupIndex);\r\n}\r\n\r\nexport function getTrackByIndex(\r\n  trackIndex: number,\r\n  groupIndex: number,\r\n  groups: Group[]\r\n) {\r\n  return getGroupByIndex(groupIndex, groups)\r\n    ?.tracks\r\n    .find(track => track.index === trackIndex);\r\n}","import { Group } from \"../models/Group\";\r\n\r\nconst GROUPS = 'groups';\r\n\r\nexport function saveGroups(groups: Group[]) {\r\n  localStorage.setItem(GROUPS, JSON.stringify(groups));\r\n}\r\n\r\nexport function loadGroups() {\r\n  const storedGroupsString = localStorage.getItem(GROUPS);\r\n  if (storedGroupsString === null) return [];\r\n  const parsedGroupsString = JSON.parse(storedGroupsString);\r\n  if (!Array.isArray(parsedGroupsString)) return [];\r\n  const storedGroups = parsedGroupsString as Group[];\r\n  // Make sure all tracks are stopped before returning them\r\n  // to prevent unwanted autoplay\r\n  storedGroups.forEach(group => {\r\n    group.tracks.forEach(track => {\r\n      track.isPlaying = false;\r\n    });\r\n  });\r\n  return storedGroups;\r\n}","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { SearchResult } from \"../models/SearchResult\";\r\nimport { Group } from \"../models/Group\";\r\nimport { isLoop, isOneShot } from \"../models/Track\";\r\nimport { ERROR_TYPE, TrackData, TrackDataError } from \"../models/DatabaseTypes\";\r\nimport {\r\n  addSearchResultToGroup,\r\n  getNextIndex,\r\n  getGroupByIndex,\r\n  getTrackByIndex,\r\n  DEFAULT_VOLUME\r\n} from \"../utils/storeUtil\";\r\nimport { loadGroups, saveGroups } from \"../services/localStorage\";\r\nimport { ObjectType } from \"../models/ObjectTypes\";\r\n\r\nconst groupsSlice = createSlice({\r\n  name: 'groups',\r\n  initialState: [] as Group[],\r\n  reducers: {\r\n    newGroup(state, { payload }: { payload: string }) {\r\n      state.push({\r\n        name: payload,\r\n        index: getNextIndex(state),\r\n        tracks: [],\r\n        volume: DEFAULT_VOLUME,\r\n        isExpanded: true\r\n      });\r\n      saveGroups(state);\r\n    },\r\n    addSearchResult(\r\n      state,\r\n      { payload }: PayloadAction<{ searchResult: SearchResult, groupIndex?: number }>\r\n    ) {\r\n      const { searchResult, groupIndex } = payload;\r\n      // Determine which group the new track(s) should be assigned to\r\n      let group;\r\n      if (groupIndex === undefined) {\r\n        const groupName = searchResult.type === ObjectType.PACK\r\n          ? searchResult.name\r\n          : 'Untitled group';\r\n        // Create new group\r\n        group = {\r\n          name: groupName,\r\n          index: getNextIndex(state),\r\n          tracks: [],\r\n          volume: DEFAULT_VOLUME,\r\n          isExpanded: true\r\n        };\r\n        state.unshift(group);\r\n      } else {\r\n        group = getGroupByIndex(groupIndex, state);\r\n      }\r\n      if (group === undefined) return;\r\n      // Add track(s) to that group\r\n      addSearchResultToGroup(searchResult, group);\r\n      saveGroups(state);\r\n    },\r\n    removeTrack(state, { payload }: PayloadAction<{ groupIndex: number, trackIndex: number }>) {\r\n      const { groupIndex, trackIndex } = payload;\r\n      const group = getGroupByIndex(groupIndex, state);\r\n      if (group === undefined) return;\r\n      if (group.tracks.length === 1 && group.tracks[0].index === trackIndex) {\r\n        // Last track was removed, so remove this group\r\n        return state.filter(group => group.index !== groupIndex);\r\n      }\r\n      group.tracks = group.tracks.filter(track => track.index !== trackIndex);\r\n      saveGroups(state);\r\n    },\r\n    setTrackData(state, { payload }: PayloadAction<{\r\n      groupIndex: number,\r\n      trackIndex: number,\r\n      trackData: TrackData | TrackDataError\r\n    }>) {\r\n      const { groupIndex, trackIndex, trackData } = payload;\r\n      const track = getTrackByIndex(trackIndex, groupIndex, state);\r\n      if (track === undefined) return;\r\n      if (trackData.type === ERROR_TYPE) {\r\n        Object.assign(track, { type: ERROR_TYPE })\r\n        return;\r\n      }\r\n      Object.assign(track, trackData);\r\n      saveGroups(state);\r\n    },\r\n    setTrackVolume(state, { payload }: PayloadAction<{\r\n      groupIndex: number,\r\n      trackIndex: number,\r\n      volume: number\r\n    }>) {\r\n      const { groupIndex, trackIndex, volume } = payload;\r\n      const track = getTrackByIndex(trackIndex, groupIndex, state);\r\n      if (track === undefined) return;\r\n      track.volume = volume;\r\n      saveGroups(state);\r\n    },\r\n    setTrackIsMuted(state, { payload }: PayloadAction<{\r\n      groupIndex: number,\r\n      trackIndex: number,\r\n      isMuted: boolean\r\n    }>) {\r\n      const { groupIndex, trackIndex, isMuted } = payload;\r\n      const track = getTrackByIndex(trackIndex, groupIndex, state);\r\n      if (track === undefined) return;\r\n      track.isMuted = isMuted;\r\n      saveGroups(state);\r\n    },\r\n    setTrackIsPlaying(state, { payload }: PayloadAction<{\r\n      groupIndex: number,\r\n      trackIndex: number,\r\n      isPlaying: boolean\r\n    }>) {\r\n      const { groupIndex, trackIndex, isPlaying } = payload;\r\n      const track = getTrackByIndex(trackIndex, groupIndex, state);\r\n      if (track === undefined) return;\r\n      track.isPlaying = isPlaying;\r\n      saveGroups(state);\r\n    },\r\n    removeGroup(state, { payload }: PayloadAction<{ groupIndex: number }>) {\r\n      const { groupIndex } = payload;\r\n      const newGroupList = state.filter(group => group.index !== groupIndex);\r\n      saveGroups(newGroupList);\r\n      return newGroupList;\r\n    },\r\n    setGroupName(state, { payload }: PayloadAction<{\r\n      groupIndex: number,\r\n      name: string\r\n    }>) {\r\n      const { groupIndex, name } = payload;\r\n      const group = getGroupByIndex(groupIndex, state);\r\n      if (group === undefined) return;\r\n      group.name = name;\r\n      saveGroups(state);\r\n    },\r\n    setGroupIsPlaying(state, { payload }: PayloadAction<{\r\n      groupIndex: number,\r\n      isPlaying: boolean\r\n    }>) {\r\n      const { groupIndex, isPlaying } = payload;\r\n      const group = getGroupByIndex(groupIndex, state);\r\n      if (group === undefined) return;\r\n      group.tracks.map(track => {\r\n        if (isLoop(track) || isOneShot(track)) {\r\n          track.isPlaying = isPlaying;\r\n        }\r\n        return track;\r\n      });\r\n      saveGroups(state);\r\n    },\r\n    setGroupIsExpanded(state, { payload }: PayloadAction<{\r\n      groupIndex: number,\r\n      isExpanded: boolean\r\n    }>) {\r\n      const { groupIndex, isExpanded } = payload;\r\n      const group = getGroupByIndex(groupIndex, state);\r\n      if (group === undefined) return;\r\n      group.isExpanded = isExpanded;\r\n      saveGroups(state);\r\n    },\r\n    setGroupVolume(state, { payload }: PayloadAction<{\r\n      groupIndex: number,\r\n      volume: number\r\n    }>) {\r\n      const { groupIndex, volume } = payload;\r\n      const group = getGroupByIndex(groupIndex, state);\r\n      if (group === undefined) return;\r\n      group.volume = volume;\r\n      saveGroups(state);\r\n    },\r\n    startAllInGroup(state, { payload }: PayloadAction<{ groupIndex: number }>) {\r\n      const { groupIndex } = payload;\r\n      const group = getGroupByIndex(groupIndex, state);\r\n      if (group === undefined) return;\r\n      group.tracks.forEach(track => {\r\n        track.isPlaying = true;\r\n      });\r\n      saveGroups(state);\r\n    },\r\n    stopAllInGroup(state, { payload }: PayloadAction<{ groupIndex: number }>) {\r\n      const { groupIndex } = payload;\r\n      const group = getGroupByIndex(groupIndex, state);\r\n      if (group === undefined) return;\r\n      group.tracks.forEach(track => {\r\n        track.isPlaying = false;\r\n      });\r\n      saveGroups(state);\r\n    },\r\n    setOneShotRange(state, { payload }: PayloadAction<{\r\n      groupIndex: number,\r\n      trackIndex: number,\r\n      minSecondsBetween: number,\r\n      maxSecondsBetween: number\r\n    }>) {\r\n      const {\r\n        groupIndex,\r\n        trackIndex,\r\n        minSecondsBetween,\r\n        maxSecondsBetween\r\n      } = payload;\r\n      const track = getTrackByIndex(trackIndex, groupIndex, state);\r\n      if (track === undefined || !isOneShot(track)) return;\r\n      track.minSecondsBetween = minSecondsBetween;\r\n      track.maxSecondsBetween = maxSecondsBetween;\r\n      saveGroups(state);\r\n    },\r\n    loadGroupsFromStorage(state) {\r\n      const newState = [\r\n        ...state,\r\n        ...loadGroups()\r\n      ];\r\n      saveGroups(newState);\r\n      return newState;\r\n    }\r\n  }\r\n});\r\n\r\nexport const {\r\n  newGroup,\r\n  removeTrack,\r\n  addSearchResult,\r\n  setTrackData,\r\n  setTrackVolume,\r\n  setTrackIsMuted,\r\n  removeGroup,\r\n  setGroupName,\r\n  setGroupIsPlaying,\r\n  setGroupIsExpanded,\r\n  setGroupVolume,\r\n  setTrackIsPlaying,\r\n  startAllInGroup,\r\n  stopAllInGroup,\r\n  setOneShotRange,\r\n  loadGroupsFromStorage\r\n} = groupsSlice.actions;\r\n\r\nexport default groupsSlice.reducer;","import { combineReducers } from \"@reduxjs/toolkit\";\r\nimport { useSelector } from \"react-redux\";\r\nimport groupsReducer from \"./groups\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  groups: groupsReducer\r\n});\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\nexport const useGroups = () => useSelector((state: RootState) => state.groups);","export default __webpack_public_path__ + \"static/media/icon-add.e6363ddc.svg\";","import React from \"react\";\r\nimport DefaultButton from \"./DefaultButton\";\r\nimport addIcon from \"../../assets/icon-add.svg\";\r\n\r\nimport \"./AddSoundsButton.scss\";\r\n\r\ntype AddSoundsButtonProps = {\r\n  onClick: () => void,\r\n  text: string\r\n};\r\n\r\nexport default function AddSoundsButton({\r\n  onClick,\r\n  text\r\n}: AddSoundsButtonProps) {\r\n  return (\r\n    <DefaultButton\r\n      className='add-sounds-button-container'\r\n      onClick={onClick}\r\n      icon={addIcon}\r\n      text={text}\r\n      isFullWidth={true}\r\n    />\r\n  );\r\n}","export default __webpack_public_path__ + \"static/media/icon-search.218aca96.svg\";","import React, { ChangeEvent, useEffect, useRef } from \"react\";\r\nimport searchIcon from \"../assets/icon-search.svg\";\r\nimport DefaultButton from \"./buttons/DefaultButton\";\r\n\r\nimport \"./SearchField.scss\";\r\n\r\ntype SearchFieldProps = {\r\n  value: string,\r\n  onChange: (newText: string) => void,\r\n  onCancel: () => void,\r\n  placeholderText: string\r\n};\r\n\r\nexport default function SearchField(props: SearchFieldProps) {\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    // Highlight text the search field's text each time it becomes visible.\r\n    //  This also applies when switching between global and per-group\r\n    //  search fields.\r\n    if (inputRef.current === null) return;\r\n    inputRef.current.focus();\r\n    inputRef.current.select();\r\n  }, []);\r\n\r\n  function changeHandler(e: ChangeEvent<HTMLInputElement>) {\r\n    props.onChange(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"search-field-container\">\r\n      <img\r\n        className=\"icon\"\r\n        src={searchIcon}\r\n        alt='Search Icon'\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        placeholder={props.placeholderText}\r\n        value={props.value}\r\n        onChange={changeHandler}\r\n        ref={inputRef}\r\n        role=\"searchbox\"\r\n        autoFocus\r\n      />\r\n      <DefaultButton\r\n        onClick={props.onCancel}\r\n        text=\"Cancel\"\r\n        className=\"collapse-search-button\"\r\n      />\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\n\r\nimport \"./Tag.scss\";\r\n\r\ntype TagProps = {\r\n  text: string\r\n  onClick?: (tagText: string) => void\r\n};\r\n\r\nexport default function Tag({ text, onClick }: TagProps) {\r\n\r\n  const isClickable = onClick !== undefined;\r\n\r\n  const handleClick = () => {\r\n    if (onClick !== undefined) {\r\n      onClick(text);\r\n    }\r\n  }\r\n\r\n  const className = 'tag-container' +\r\n    (isClickable ? ' clickable' : '');\r\n\r\n\r\n  function onKeyDown(event: React.KeyboardEvent<HTMLLIElement>) {\r\n    switch (event.key) {\r\n      case 'Enter':\r\n        handleClick();\r\n        break;\r\n      case ' ':\r\n        handleClick();\r\n        break;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <span\r\n      className={className}\r\n      onClick={handleClick}\r\n      tabIndex={isClickable ? 0 : undefined}\r\n      onKeyDown={onKeyDown}\r\n    >\r\n      {isClickable ? '+ ' : ''}\r\n      {text}\r\n    </span>\r\n  );\r\n}","import React from \"react\";\r\nimport { SearchResult } from \"../../models/SearchResult\";\r\nimport Tag from \"../../widgets/Tag\";\r\n\r\nimport \"./SearchItem.scss\";\r\n\r\ntype SearchItemProps = {\r\n  data: SearchResult,\r\n  onClick: () => void\r\n};\r\n\r\nexport default function SearchItem({ data, onClick }: SearchItemProps) {\r\n  let packCountElement = null;\r\n  if (data.tracks !== undefined) {\r\n    packCountElement = (\r\n      <span className=\"pack-count\">\r\n        <span className=\"pack-count__number\">{data.tracks.length}</span>\r\n      pack\r\n      </span>\r\n    );\r\n  }\r\n  const filteredTags = data.tags.filter(tag => tag !== 'pack');\r\n\r\n  function onKeyDown(event: React.KeyboardEvent<HTMLLIElement>) {\r\n    switch (event.key) {\r\n      case 'Enter':\r\n        onClick();\r\n        break;\r\n      case ' ':\r\n        onClick();\r\n        break;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li\r\n      className=\"search-item-container\"\r\n      onClick={onClick}\r\n      tabIndex={0}\r\n      onKeyDown={onKeyDown}\r\n    >\r\n      <h4>{data.name}</h4>\r\n      {packCountElement}\r\n      {filteredTags.map((tag, index) =>\r\n        <Tag key={index} text={tag} />\r\n      )}\r\n    </li>\r\n  );\r\n}","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { SearchResult } from \"../../models/SearchResult\";\r\nimport { addSearchResult } from \"../../slices/groups\";\r\nimport SearchField from \"../../widgets/SearchField\";\r\nimport SearchItem from \"./SearchItem\";\r\nimport { NEW_GROUP } from \"../TrackList/TrackList\";\r\n\r\nimport './SearchDropdown.scss';\r\n\r\ntype SearchDropdownProps = {\r\n  closeSearchDropdown: () => void,\r\n  searchText: string,\r\n  setSearchText: (newSearchText: string) => void,\r\n  appendSearchText: (newSearchText: string) => void,\r\n  isFetchingResults: boolean,\r\n  results: SearchResult[],\r\n  searchTarget: number | null | typeof NEW_GROUP;\r\n};\r\n\r\nexport default function SearchDropdown({\r\n  closeSearchDropdown,\r\n  searchText,\r\n  setSearchText,\r\n  appendSearchText,\r\n  isFetchingResults,\r\n  results,\r\n  searchTarget\r\n}: SearchDropdownProps) {\r\n  const dispatch = useDispatch();\r\n  function onSearchItemClick(searchResult: SearchResult) {\r\n    closeSearchDropdown();\r\n    let groupIndex: undefined | number = undefined;\r\n    if (typeof searchTarget === 'number') {\r\n      groupIndex = searchTarget;\r\n    }\r\n    dispatch(addSearchResult({ searchResult, groupIndex }));\r\n  }\r\n\r\n  const resultElements = results.map(result => (\r\n    <SearchItem\r\n      key={result.id}\r\n      data={result}\r\n      onClick={() => onSearchItemClick(result)}\r\n    />\r\n  ));\r\n\r\n  const mainContent = isFetchingResults\r\n    ? <p className=\"message\">Loading...</p>\r\n    : resultElements.length > 0\r\n      ? <ul className=\"results\">{resultElements}</ul>\r\n      : searchText.length === 0\r\n        ? null\r\n        : <p className=\"message\">Couldn't find those sounds.</p>;\r\n  return (\r\n    <div className=\"search-dropdown-container\">\r\n      <SearchField\r\n        value={searchText}\r\n        onChange={setSearchText}\r\n        onCancel={closeSearchDropdown}\r\n        placeholderText={`'tavern', 'music', 'horse', ...`}\r\n      />\r\n      {mainContent}\r\n    </div>\r\n  );\r\n}","export default __webpack_public_path__ + \"static/media/icon-close.a31e1b62.svg\";","export function getAudioFileUrl(fileName: string) {\r\n  const useWebm = (new Audio().canPlayType('audio/webm; codecs=\"vorbis')) === \"probably\";\r\n  const fileType = useWebm ? 'webm' : 'mp3';\r\n  return `https://storage.googleapis.com/turbo-bard.appspot.com/${fileName}.${fileType}`;\r\n}","export function randIntBetween(a: number, b: number) {\r\n  // Force inputs to integers\r\n  const intA = Math.round(a);\r\n  const intB = Math.round(b);\r\n  const min = Math.min(intA, intB);\r\n  const max = Math.max(intA, intB);\r\n  const range = max - min;\r\n  \r\n  const result = min + Math.round(Math.random() * range);\r\n  return result;\r\n}\r\n\r\nexport function clamp(min: number, value: number, max: number) {\r\n  if (value < min) return min;\r\n  if (value > max) return max;\r\n  return value;\r\n}","import { useEffect, useState } from \"react\";\r\nimport { clamp } from \"../utils/mathUtil\";\r\n\r\nconst FADE_DURATION_SECONDS = 1;\r\nconst FRAMES_PER_SECOND = 30;\r\nconst PERCENT_CHANGE_PER_SECOND = 1 / FADE_DURATION_SECONDS;\r\nconst PERCENT_CHANGE_PER_FRAME = PERCENT_CHANGE_PER_SECOND / FRAMES_PER_SECOND;\r\n\r\nexport function useFadeMultiplier(isFadingIn: boolean) {\r\n\r\n  const [fadeMultiplier, setFadeMultiplier] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const direction = isFadingIn ? 1 : -1;\r\n    const interval = setInterval(() => {\r\n      const change = PERCENT_CHANGE_PER_FRAME * direction;\r\n      setFadeMultiplier((_fadeMultiplier) => clamp(0, _fadeMultiplier + change, 1));\r\n    }, 1000 / FRAMES_PER_SECOND);\r\n    return () => { clearInterval(interval); }\r\n  }, [isFadingIn])\r\n\r\n  return fadeMultiplier;\r\n}","import { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { fetchTrackDataById } from \"../services/database\";\r\nimport { ERROR_TYPE, TrackData, TrackDataError } from \"../models/DatabaseTypes\";\r\nimport { setTrackData } from \"../slices/groups\";\r\n\r\nexport default function useTrackData(id: string, index: number, groupIndex: number, isLoaded: boolean) {\r\n  const [isLoadingData, setIsLoadingData] = useState(false);\r\n  const [results, setResults] = useState<TrackData | TrackDataError | null>(null);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!isLoaded && !isLoadingData && results === null) {\r\n      // We should start loading data\r\n      setIsLoadingData(true);\r\n    }\r\n  }, [isLoaded, isLoadingData, results]);\r\n\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n    async function fetchData() {\r\n      const trackData = await fetchTrackDataById(id);\r\n      if (isCancelled) return;\r\n      if (trackData === undefined) {\r\n        setResults({ id, type: ERROR_TYPE })\r\n        setIsLoadingData(false);\r\n        return;\r\n      }\r\n      setResults(trackData);\r\n      setIsLoadingData(false);\r\n    }\r\n    if (isLoadingData) {\r\n      fetchData();\r\n      return () => { isCancelled = true; };\r\n    }\r\n  }, [isLoadingData, id, dispatch, index, results]);\r\n\r\n  useEffect(() => {\r\n    if (results !== null && !isLoaded && !isLoadingData) {\r\n      dispatch(setTrackData({\r\n        groupIndex,\r\n        trackIndex: index,\r\n        trackData: results\r\n      }));\r\n    }\r\n  })\r\n\r\n\r\n}","import { useState } from \"react\";\r\n\r\ntype ReturnType = [\r\n  boolean,\r\n  (newValue: boolean) => void,\r\n  () => void\r\n];\r\n\r\nexport default function useBoolean(initialValue: boolean = false): ReturnType {\r\n  const [value, setValue] = useState(initialValue);\r\n  const toggleValue = () => {\r\n    setValue(!value);\r\n  }\r\n  return [value, setValue, toggleValue];\r\n}","import { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setTrackIsMuted, setTrackVolume } from \"../slices/groups\";\r\nimport useBoolean from \"./useBoolean\";\r\n\r\ntype ReturnType = {\r\n  volume: number,\r\n  setVolume: (newValue: number) => void,\r\n  isMuted: boolean,\r\n  toggleIsMuted: () => void\r\n};\r\n\r\ntype PropType = {\r\n  initialVolume: number,\r\n  isInitiallyMuted: boolean,\r\n  groupIndex: number,\r\n  trackIndex: number\r\n};\r\n\r\nexport function useVolume({\r\n  initialVolume,\r\n  isInitiallyMuted,\r\n  groupIndex,\r\n  trackIndex\r\n}: PropType): ReturnType {\r\n  const [volume, setVolume] = useState(initialVolume);\r\n  const [isMuted, , toggleIsMuted] = useBoolean(isInitiallyMuted);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(setTrackVolume({\r\n      groupIndex,\r\n      trackIndex,\r\n      volume\r\n    }));\r\n  }, [dispatch, groupIndex, trackIndex, volume]);\r\n\r\n  useEffect(() => {\r\n    dispatch(setTrackIsMuted({\r\n      groupIndex,\r\n      trackIndex,\r\n      isMuted\r\n    }));\r\n  }, [dispatch, groupIndex, trackIndex, isMuted])\r\n  return { volume, setVolume, isMuted, toggleIsMuted };\r\n}","export default __webpack_public_path__ + \"static/media/icon-play.9bfbce63.svg\";","export default __webpack_public_path__ + \"static/media/icon-stop.57194b63.svg\";","import React from \"react\";\r\nimport playIcon from \"../../assets/icon-play.svg\";\r\nimport stopIcon from \"../../assets/icon-stop.svg\";\r\n\r\nimport \"./FlameButton.scss\";\r\n\r\ntype FlameButtonProps = {\r\n  isPlaying: boolean,\r\n  isDisabled?: boolean,\r\n  onClick: () => void\r\n};\r\n\r\nexport default function FlameButton({\r\n  isPlaying,\r\n  onClick,\r\n  isDisabled = false\r\n}: FlameButtonProps) {\r\n  const ariaLabel = (isPlaying ? \"Play\" : \"Stop\") + \" button\";\r\n  return (\r\n    <button\r\n      className=\"flame-button-container\"\r\n      aria-label={ariaLabel}\r\n      onClick={onClick}\r\n      disabled={isDisabled}\r\n    >\r\n      <img\r\n        className=\"icon\"\r\n        src={isPlaying ? stopIcon : playIcon}\r\n        alt=\"\"\r\n      />\r\n      <div\r\n        className={\"background\" + (isPlaying ? ' playing' : '')}\r\n      />\r\n    </button>\r\n  );\r\n}","export default __webpack_public_path__ + \"static/media/torch-handle.50074439.svg\";","export default __webpack_public_path__ + \"static/media/icon-info.e4c2b69f.svg\";","export default __webpack_public_path__ + \"static/media/icon-volume.3544539c.svg\";","import React from \"react\";\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\nimport \"./RangeInput.scss\";\r\n\r\ntype RangeInputProps = {\r\n  min: number,\r\n  max: number,\r\n  value: number | number[],\r\n  onValueChange: (newValue: number | number[]) => void,\r\n  step?: number,\r\n  className?: string,\r\n  ariaLabel?: string,\r\n  getAriaValueText?: (value: number) => string\r\n};\r\n\r\nexport default function RangeInput({\r\n  min,\r\n  max,\r\n  value,\r\n  step = 0.02,\r\n  onValueChange,\r\n  ariaLabel,\r\n  getAriaValueText,\r\n  className = ''\r\n}: RangeInputProps) {\r\n  const onChange = (e: React.ChangeEvent<{}>, value: number | number[]) => {\r\n    onValueChange(value);\r\n  };\r\n  return (\r\n    <Slider\r\n      getAriaValueText={getAriaValueText}\r\n      aria-label={ariaLabel}\r\n      min={min}\r\n      max={max}\r\n      value={value}\r\n      step={step}\r\n      onChange={onChange}\r\n      classes={{\r\n        root: 'range-input-container ' + className,\r\n        thumb: 'handle',\r\n        track: 'track',\r\n        rail: 'rail',\r\n        vertical: 'vertical'\r\n      }}\r\n    />\r\n  );\r\n}","import React from \"react\";\r\nimport volumeIcon from \"../assets/icon-volume.svg\";\r\nimport RangeInput from \"./RangeInput\";\r\n\r\nimport \"./VolumeControls.scss\";\r\nimport { isNumberArray } from \"../utils/typeUtil\";\r\n\r\ntype VolumeControlsProps = {\r\n  volume: number,\r\n  setVolume: (newValue: number) => void,\r\n  isMuted: boolean,\r\n  toggleIsMuted: () => void\r\n};\r\n\r\nexport default function VolumeControls({\r\n  volume,\r\n  setVolume,\r\n  isMuted,\r\n  toggleIsMuted\r\n}: VolumeControlsProps) {\r\n\r\n  const ariaValueFormatter = (value: number) => {\r\n    return `${value * 100}%`;\r\n  }\r\n\r\n  function _setVolume(volume: number | number[]) {\r\n    // Coerce value to type number, since RangeInput\r\n    //  can have multiple handles\r\n    if (isNumberArray(volume)) return;\r\n    return setVolume(volume);\r\n  }\r\n\r\n  return (\r\n    <div className=\"volume-controls-container\">\r\n      <label className= \"icon\">\r\n        <img src={volumeIcon} alt=\"volume\" />\r\n      </label>\r\n      <RangeInput\r\n        className=\"range-slider\"\r\n        min={0}\r\n        max={1}\r\n        value={volume}\r\n        onValueChange={_setVolume}\r\n        ariaLabel=\"volume slider\"\r\n        getAriaValueText={ariaValueFormatter}\r\n      />\r\n    </div>\r\n  );\r\n}","export function isNumberArray(value: number | number[]): value is number[] {\r\n  return (value as number[]).length !== undefined;\r\n}","import React from \"react\";\r\nimport AnchorButton from \"../../widgets/buttons/AnchorButton\";\r\n\r\nimport \"./TrackSource.scss\";\r\n\r\ntype TrackSourceProps = {\r\n  source?: {\r\n    author?: string,\r\n    urls: string[]\r\n  }\r\n};\r\n\r\nexport default function TrackSource({ source }: TrackSourceProps) {\r\n  return (\r\n    <div className=\"track-source-container\">\r\n      <div className=\"title\">\r\n        <p><label>Source</label>{source\r\n          ? source.author ?? ''\r\n          : '...'\r\n        }</p>\r\n        <div className=\"filler\" />\r\n      </div>\r\n      {\r\n        source\r\n          ? source.urls.map(url => <AnchorButton url={url} key={url} />)\r\n          : null\r\n      }\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport FlameButton from \"../../widgets/buttons/FlameButton\";\r\nimport torchHandle from \"../../assets/torch-handle.svg\";\r\nimport infoIcon from \"../../assets/icon-info.svg\";\r\nimport closeIcon from \"../../assets/icon-close.svg\";\r\n\r\nimport \"./TrackItem.scss\";\r\nimport VolumeControls from \"../../widgets/VolumeControls\";\r\nimport DefaultButton from \"../../widgets/buttons/DefaultButton\";\r\nimport useBoolean from \"../../hooks/useBoolean\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { removeTrack } from \"../../slices/groups\";\r\nimport TrackSource from \"./TrackSource\";\r\nimport Tag from \"../../widgets/Tag\";\r\n\r\ntype TrackItemProps = {\r\n  isPlaying: boolean,\r\n  toggleIsPlaying: () => void,\r\n  isAudioReady: boolean,\r\n  isSearchOpen: boolean,\r\n  name?: string,\r\n  isMuted: boolean,\r\n  toggleIsMuted: () => void,\r\n  volume: number,\r\n  setVolume: (newVolume: number) => void,\r\n  tags?: string[],\r\n  onTagClick: (tag: string) => void,\r\n  additionalControls?: JSX.Element,\r\n  groupIndex: number,\r\n  trackIndex: number,\r\n  source?: {\r\n    author?: string,\r\n    urls: string[]\r\n  }\r\n};\r\n\r\nexport default function TrackItem({\r\n  isPlaying,\r\n  toggleIsPlaying,\r\n  isAudioReady,\r\n  isSearchOpen,\r\n  name,\r\n  isMuted,\r\n  toggleIsMuted,\r\n  volume,\r\n  setVolume,\r\n  tags,\r\n  onTagClick,\r\n  additionalControls,\r\n  groupIndex,\r\n  trackIndex,\r\n  source\r\n}: TrackItemProps) {\r\n\r\n  const [isExpanded, , toggleIsExpanded] = useBoolean(false);\r\n\r\n  const dispatch = useDispatch();\r\n  function remove() {\r\n    dispatch(removeTrack({ groupIndex, trackIndex }))\r\n  }\r\n\r\n  const tagList = tags !== undefined\r\n    ? <div>\r\n      {\r\n        tags.map(tag => (\r\n          <Tag\r\n            key={tag}\r\n            text={tag}\r\n            onClick={onTagClick}\r\n          />\r\n        ))\r\n      }\r\n    </div>\r\n    : null;\r\n\r\n  return (\r\n    <div className=\"track-item-container\">\r\n      <div className=\"row\">\r\n        <div className=\"torch\">\r\n          <FlameButton\r\n            onClick={toggleIsPlaying}\r\n            isPlaying={isPlaying}\r\n            isDisabled={!isAudioReady}\r\n          />\r\n          <div className=\"torch__handle\">\r\n            <img src={torchHandle} alt=\"Torch handle\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"track__body\">\r\n          <header className={additionalControls !== undefined ? 'has-controls' : ''}>\r\n            <div className=\"name-column\">\r\n              <h4 className={isExpanded ? 'expanded' : ''}>\r\n                {name ?? '...'}\r\n              </h4>\r\n              {additionalControls}\r\n            </div>\r\n            <DefaultButton\r\n              onClick={remove}\r\n              icon={closeIcon}\r\n              isDisabled={isSearchOpen}\r\n            />\r\n          </header>\r\n          {\r\n            isSearchOpen\r\n              ? tagList\r\n              : <div className='track-controls'>\r\n                <VolumeControls\r\n                  volume={volume}\r\n                  isMuted={isMuted}\r\n                  setVolume={setVolume}\r\n                  toggleIsMuted={toggleIsMuted}\r\n                />\r\n                <DefaultButton\r\n                  onClick={toggleIsExpanded}\r\n                  icon={infoIcon}\r\n                  isActive={isExpanded}\r\n                  isRound={true}\r\n                />\r\n              </div>\r\n          }\r\n        </div>\r\n      </div>\r\n      {\r\n        isExpanded && !isSearchOpen\r\n          ? <TrackSource source={source} />\r\n          : null\r\n      }\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { isUnloaded, Loop, UnloadedTrack } from \"../../models/Track\";\r\nimport useLoopPlayer from \"../../hooks/useLoopPlayer\";\r\nimport useTrackData from \"../../hooks/useTrackData\";\r\nimport { useVolume } from \"../../hooks/useVolume\";\r\n\r\nimport TrackItem from \"./TrackItem\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setTrackIsPlaying } from \"../../slices/groups\";\r\n\r\ntype LoopTrackItemProps = {\r\n  loop: Loop | UnloadedTrack,\r\n  groupIndex: number,\r\n  isVisible: boolean,\r\n  isSearchOpen: boolean,\r\n  onTagClick: (tag: string) => void,\r\n  groupVolume: number\r\n};\r\n\r\nexport default function LoopTrackItem({\r\n  groupIndex,\r\n  loop,\r\n  isVisible,\r\n  isSearchOpen,\r\n  onTagClick,\r\n  groupVolume\r\n}: LoopTrackItemProps) {\r\n  const { name, id, index, tags, isPlaying } = loop;\r\n  const {\r\n    volume,\r\n    setVolume,\r\n    isMuted,\r\n    toggleIsMuted\r\n  } = useVolume({\r\n    initialVolume: loop.volume,\r\n    isInitiallyMuted: loop.isMuted,\r\n    groupIndex,\r\n    trackIndex: index\r\n  });\r\n  const computedVolume = isMuted\r\n    ? 0\r\n    : volume * groupVolume;\r\n  const fileName = isUnloaded(loop) ? undefined : loop.fileName;\r\n  const { isLoaded: isAudioLoaded } = useLoopPlayer(computedVolume, isPlaying, fileName);\r\n  useTrackData(id, index, groupIndex, !isUnloaded(loop));\r\n  const dispatch = useDispatch();\r\n\r\n  if (!isVisible) {\r\n    return null;\r\n  }\r\n\r\n  const source = (loop as Loop).source ?? null;\r\n  function toggleIsPlaying() {\r\n    dispatch(setTrackIsPlaying({\r\n      groupIndex,\r\n      trackIndex: index,\r\n      isPlaying: !loop.isPlaying\r\n    }));\r\n  }\r\n\r\n  return (\r\n    <TrackItem\r\n      isAudioReady={isAudioLoaded}\r\n      isMuted={isMuted}\r\n      isPlaying={isPlaying}\r\n      isSearchOpen={isSearchOpen}\r\n      toggleIsMuted={toggleIsMuted}\r\n      toggleIsPlaying={toggleIsPlaying}\r\n      name={name}\r\n      tags={tags ?? []}\r\n      volume={volume}\r\n      setVolume={setVolume}\r\n      onTagClick={onTagClick}\r\n      groupIndex={groupIndex}\r\n      trackIndex={loop.index}\r\n      source={source}\r\n    />\r\n  );\r\n}","import { useEffect, useState } from \"react\";\r\nimport { getAudioFileUrl } from \"../utils/audioFileUtil\";\r\nimport { useFadeMultiplier } from \"./useFadeMultiplier\";\r\nimport { Howl } from \"howler\";\r\nconst FADE_DURATION_SECONDS = 2;\r\n\r\nexport default function useLoopPlayer(\r\n  volume: number,\r\n  isPlaying: boolean,\r\n  fileName?: string\r\n) {\r\n  const src = fileName !== undefined ? getAudioFileUrl(fileName) : undefined;\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [howl, setHowl] = useState<Howl | null>(null);\r\n  const fadeMultiplier = useFadeMultiplier(isPlaying);\r\n\r\n  useEffect(() => {\r\n    if (src === undefined) return;\r\n    let wasDeleted = false;\r\n    const newHowl = new Howl({\r\n      src: [src],\r\n      loop: true,\r\n      onload: () => {\r\n        if (wasDeleted) return;\r\n        setIsLoaded(true);\r\n      }\r\n    });\r\n    setHowl(newHowl);\r\n    return () => {\r\n      wasDeleted = true;\r\n      newHowl.fade(newHowl.volume(), 0, FADE_DURATION_SECONDS * 1000);\r\n      newHowl.once('fade', () => newHowl.unload());\r\n    }\r\n  }, [src]);\r\n\r\n  useEffect(() => {\r\n    if (howl === null) return;\r\n    if (isPlaying && !howl.playing()) {\r\n      howl.play();\r\n    } else if (fadeMultiplier <= 0) {\r\n      howl.stop();\r\n    }\r\n    howl.volume(volume * fadeMultiplier);\r\n  });\r\n\r\n  return { isLoaded };\r\n}","import { RefObject, useEffect, useState } from \"react\";\r\nimport { getAudioFileUrl } from \"../utils/audioFileUtil\";\r\nimport { clamp, randIntBetween } from \"../utils/mathUtil\";\r\nimport { useFadeMultiplier } from \"./useFadeMultiplier\";\r\nimport { Howl } from \"howler\";\r\nconst FADE_DURATION_SECONDS = 2;\r\n\r\nconst SERIALIZATION_DELIMITER = '----';\r\n\r\nfunction serializeSources(samples: string[]) {\r\n  return samples.map(filename => getAudioFileUrl(filename)).join(SERIALIZATION_DELIMITER);\r\n}\r\n\r\nfunction deserializeSources(serializedSources: string) {\r\n  return serializedSources.split(SERIALIZATION_DELIMITER);\r\n}\r\n\r\nexport default function useOneShotPlayer(\r\n  samples: string[],\r\n  volume: number,\r\n  minSecondsBetween: number,\r\n  maxSecondsBetween: number,\r\n  isPlaying: boolean,\r\n  wickRef: RefObject<HTMLDivElement>\r\n) {\r\n  const [howls, setHowls] = useState<Howl[]>([]);\r\n  const [shouldPlayNow, setShouldPlayNow] = useState(false);\r\n  const fadeMultiplier = useFadeMultiplier(isPlaying);\r\n  // The point at which the user clicked play, or when the most recent one-shot\r\n  //  sound was fired (restarting the timer)\r\n  const [timerStartTimestamp, setTimerStartTimestamp] = useState<number | null>(null);\r\n  const [timerDuration, setTimerDuration] = useState<number | null>(null);\r\n\r\n  // Serializing sources is necessary so that audio elements are only created\r\n  //  when the sources themselves change. Since useEffect's dependency array\r\n  //  uses shallow equality, and the source array itself changes every render,\r\n  //  we serialize it into a string to compare the values themselves.\r\n  const serializedSources = serializeSources(samples);\r\n  useEffect(() => {\r\n    const sources = deserializeSources(serializedSources);\r\n    if (sources.length === 0) return;\r\n    const newHowls = sources.map(source => new Howl({ src: [source] }));\r\n    newHowls.forEach(newHowl => {\r\n      // Once loaded, append it to list of loaded audio elements\r\n      const appendToHowlList = () => {\r\n        setHowls(_howls => [..._howls, newHowl]);\r\n      }\r\n      if (newHowl.state() === 'loaded') {\r\n        // Sound is already loaded in howler (probably the same one shot was\r\n        //  added twice)\r\n        appendToHowlList();\r\n        return;\r\n      }\r\n      newHowl.once('load', appendToHowlList);\r\n    });\r\n    return function cleanup() {\r\n      newHowls.forEach(newHowl => {\r\n        newHowl.fade(newHowl.volume(), 0, FADE_DURATION_SECONDS * 1000);\r\n        newHowl.once('fade', () => newHowl.unload());\r\n      });\r\n    };\r\n  }, [serializedSources]);\r\n\r\n  useEffect(() => {\r\n    // Handle start/stop button clicks\r\n    if (isPlaying) {\r\n      setTimerStartTimestamp(performance.now());\r\n    } else {\r\n      setTimerStartTimestamp(null);\r\n    }\r\n  }, [isPlaying]);\r\n\r\n  // Start a timer whenever a new (non-null)\r\n  // timerStartTimestamp is set\r\n  useEffect(() => {\r\n    if (timerStartTimestamp === null) return;\r\n    const timerLength = randIntBetween(minSecondsBetween * 1000, maxSecondsBetween * 1000);\r\n    const timeout = setTimeout(() => {\r\n      setShouldPlayNow(true);\r\n      // Restart timer\r\n      setTimerStartTimestamp(performance.now());\r\n    }, timerLength);\r\n    setTimerDuration(timerLength);\r\n    return () => clearTimeout(timeout);\r\n  }, [timerStartTimestamp, minSecondsBetween, maxSecondsBetween])\r\n\r\n  useEffect(() => {\r\n    // Start wick burning animation\r\n    function animateWick(time: number) {\r\n      if (\r\n        wickRef.current === null ||\r\n        timerStartTimestamp === null ||\r\n        timerDuration === null\r\n      ) return;\r\n      const timeElapsed = time - timerStartTimestamp;\r\n      const percentageElapsed = clamp(0, timeElapsed / timerDuration, 1);\r\n      const percentageRemaining = 1 - percentageElapsed;\r\n      wickRef.current.style.transform = `scaleX(${percentageRemaining})`;\r\n      if (percentageRemaining === 0) return;\r\n      wickAnimationRafId = requestAnimationFrame(animateWick);\r\n    }\r\n    let wickAnimationRafId = requestAnimationFrame(animateWick);\r\n    return () => cancelAnimationFrame(wickAnimationRafId);\r\n  }, [timerStartTimestamp, timerDuration, wickRef]);\r\n\r\n  // Play a sound randomly selected from the sources\r\n  useEffect(() => {\r\n    if (!shouldPlayNow) return;\r\n    setShouldPlayNow(false);\r\n    if (howls.length > 0) {\r\n      const randomIndex = Math.floor(Math.random() * howls.length);\r\n      const howl = howls[randomIndex];\r\n      // Restart from the beginning, in case the sound\r\n      //  is currently playing\r\n      howl.play();\r\n    }\r\n  }, [shouldPlayNow, howls]);\r\n\r\n  // Keep audio volume in sync\r\n  useEffect(() => {\r\n    howls.forEach(howl => {\r\n      howl.volume(fadeMultiplier * volume);\r\n    });\r\n  });\r\n\r\n  return {\r\n    playNow: () => setShouldPlayNow(true)\r\n  }\r\n}","import React, { RefObject } from \"react\";\r\n\r\nimport \"./OneShotRange.scss\";\r\n\r\ntype OneShotRangeProps = {\r\n  isPlaying: boolean,\r\n  minSecondsBetween: number,\r\n  maxSecondsBetween: number,\r\n  wickRef: RefObject<HTMLDivElement>\r\n};\r\n\r\n\r\nexport default function OneShotRange({\r\n  isPlaying,\r\n  minSecondsBetween,\r\n  maxSecondsBetween,\r\n  wickRef\r\n}: OneShotRangeProps) {\r\n  return (\r\n    <div className=\"one-shot-range-container\">\r\n      <span className=\"sentence\">\r\n        play{isPlaying ? 'ing' : ''} every\r\n          <span className=\"number\"> {minSecondsBetween} </span>\r\n          to\r\n          <span className=\"number\"> {maxSecondsBetween} </span>\r\n          seconds\r\n        </span>\r\n      <div\r\n        className={\"wick\" + (isPlaying ? ' visible' : '')}\r\n        ref={wickRef}\r\n      />\r\n    </div>\r\n  );\r\n\r\n}","import React, { useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport useOneShotPlayer from \"../../hooks/useOneShotPlayer\";\r\nimport useTrackData from \"../../hooks/useTrackData\";\r\nimport { useVolume } from \"../../hooks/useVolume\";\r\nimport { isUnloaded, OneShot, UnloadedTrack } from \"../../models/Track\";\r\nimport { setTrackIsPlaying } from \"../../slices/groups\";\r\nimport OneShotRange from \"./OneShotRange\";\r\n\r\nimport TrackItem from \"./TrackItem\";\r\n\r\ntype OneShotTrackItemProps = {\r\n  oneShot: OneShot | UnloadedTrack,\r\n  groupIndex: number,\r\n  isVisible: boolean,\r\n  isSearchOpen: boolean,\r\n  onTagClick: (tag: string) => void,\r\n  groupVolume: number\r\n};\r\n\r\nconst DEFAULT_MIN_TIME_BETWEEN = 5;\r\nconst DEFAULT_MAX_TIME_BETWEEN = 10;\r\n\r\nexport default function OneShotTrackItem({\r\n  groupIndex,\r\n  oneShot,\r\n  isVisible,\r\n  isSearchOpen,\r\n  onTagClick,\r\n  groupVolume\r\n}: OneShotTrackItemProps) {\r\n  const {\r\n    volume,\r\n    setVolume,\r\n    isMuted,\r\n    toggleIsMuted\r\n  } = useVolume({\r\n    initialVolume: oneShot.volume,\r\n    isInitiallyMuted: oneShot.isMuted,\r\n    groupIndex,\r\n    trackIndex: oneShot.index\r\n  });\r\n  const { name, id, index, tags, isPlaying } = oneShot;\r\n  const computedVolume = isMuted\r\n  ? 0\r\n  : volume * groupVolume;\r\n  useTrackData(id, index, groupIndex, !isUnloaded(oneShot));\r\n  const dispatch = useDispatch();\r\n  const wickRef = useRef(null);\r\n  \r\n  const samples = isUnloaded(oneShot) ? [] : oneShot.samples;\r\n  const minSecondsBetween = (oneShot as OneShot).minSecondsBetween ?? DEFAULT_MIN_TIME_BETWEEN;\r\n  const maxSecondsBetween = (oneShot as OneShot).maxSecondsBetween ?? DEFAULT_MAX_TIME_BETWEEN;\r\n  const { playNow } = useOneShotPlayer(\r\n    samples,\r\n    computedVolume,\r\n    minSecondsBetween,\r\n    maxSecondsBetween,\r\n    isPlaying,\r\n    wickRef\r\n  );\r\n\r\n  if (!isVisible) {\r\n    return null;\r\n  }\r\n\r\n  const configurableRange = (\r\n    <OneShotRange\r\n      isPlaying={isPlaying}\r\n      minSecondsBetween={minSecondsBetween}\r\n      maxSecondsBetween={maxSecondsBetween}\r\n      wickRef={wickRef}\r\n    />\r\n  )\r\n\r\n  const source = (oneShot as OneShot).source ?? null;\r\n\r\n  function toggleIsPlaying() {\r\n    const newIsPlayingValue = !isPlaying;\r\n    // When play button is clicked, play sound before resetting one-shot wick.\r\n    //  This can't happen within the hook whenever isPlaying is set to true,\r\n    //  because we don't want to trigger the sound when a group's \"play all\"\r\n    //  button is clicked.\r\n    if (newIsPlayingValue === true) {\r\n      playNow();\r\n    }\r\n    dispatch(setTrackIsPlaying({\r\n      groupIndex,\r\n      trackIndex: oneShot.index,\r\n      isPlaying: newIsPlayingValue\r\n    }));\r\n  }\r\n\r\n  return (\r\n    <TrackItem\r\n      isAudioReady={true}\r\n      isMuted={isMuted}\r\n      isPlaying={isPlaying}\r\n      isSearchOpen={isSearchOpen}\r\n      toggleIsMuted={toggleIsMuted}\r\n      toggleIsPlaying={toggleIsPlaying}\r\n      name={name}\r\n      tags={tags ?? []}\r\n      volume={volume}\r\n      setVolume={setVolume}\r\n      onTagClick={onTagClick}\r\n      additionalControls={configurableRange}\r\n      groupIndex={groupIndex}\r\n      trackIndex={oneShot.index}\r\n      source={source}\r\n    />\r\n  );\r\n}","import React from \"react\";\r\nimport useTrackData from \"../../hooks/useTrackData\";\r\nimport { UnloadedTrack } from \"../../models/Track\";\r\nimport { ERROR_TYPE } from \"../../models/DatabaseTypes\";\r\nimport TrackItem from \"./TrackItem\";\r\nimport { useVolume } from \"../../hooks/useVolume\";\r\n\r\n// import \"./UnloadedTrackItem.scss\";\r\n\r\ntype UnloadedTrackItemProps = {\r\n  groupIndex: number,\r\n  unloadedTrack: UnloadedTrack,\r\n  isSearchOpen: boolean,\r\n  onTagClick: (tag: string) => void,\r\n  isVisible: boolean\r\n};\r\n\r\nexport default function UnloadedTrackItem({\r\n  unloadedTrack,\r\n  groupIndex,\r\n  isSearchOpen,\r\n  onTagClick,\r\n  isVisible\r\n}: UnloadedTrackItemProps) {\r\n  const {\r\n    id,\r\n    index,\r\n    type,\r\n    name = '...',\r\n    isPlaying\r\n  } = unloadedTrack;\r\n  useTrackData(id, index, groupIndex, type === ERROR_TYPE);\r\n  const {\r\n    volume,\r\n    setVolume,\r\n    isMuted,\r\n    toggleIsMuted\r\n  } = useVolume({\r\n    initialVolume: unloadedTrack.volume,\r\n    isInitiallyMuted: unloadedTrack.isMuted,\r\n    groupIndex,\r\n    trackIndex: index\r\n  });\r\n  if (!isVisible) return null;\r\n  if (type === ERROR_TYPE) {\r\n    return (\r\n      <p>Failed to load track.</p>\r\n    );\r\n  }\r\n  return <TrackItem\r\n    groupIndex={groupIndex}\r\n    isAudioReady={false}\r\n    isMuted={isMuted}\r\n    isPlaying={isPlaying}\r\n    isSearchOpen={isSearchOpen}\r\n    onTagClick={onTagClick}\r\n    setVolume={setVolume}\r\n    toggleIsMuted={toggleIsMuted}\r\n    // Empty function since unloaded tracks will always\r\n    //  have a disabled play button\r\n    toggleIsPlaying={() => { }}\r\n    trackIndex={index}\r\n    volume={volume}\r\n    name={name}\r\n  />\r\n}","export default __webpack_public_path__ + \"static/media/icon-start-all.a900c4a8.svg\";","export default __webpack_public_path__ + \"static/media/icon-caret-down.4cb48da7.svg\";","export default __webpack_public_path__ + \"static/media/icon-caret-right.db28d41f.svg\";","import React from \"react\";\r\nimport { Track } from \"../models/Track\";\r\n\r\nimport \"./TrackListGroupSummary.scss\";\r\n\r\ntype TrackListGroupSummaryProps = {\r\n  tracks: Track[]\r\n};\r\n\r\nexport default function TrackListGroupSummary({\r\n  tracks\r\n}: TrackListGroupSummaryProps) {\r\n  const playingCount = tracks.filter(track => track.isPlaying).length;\r\n  const notPlayingCount = tracks.length - playingCount;\r\n  return (\r\n    <div className=\"track-list-group-summary-container\">\r\n      {playingCount > 0 && <div className={'flame playing'} />}\r\n      {playingCount > 0 && <label>×{playingCount}</label>}\r\n      {notPlayingCount > 0 && <div className={'flame'} />}\r\n      {notPlayingCount > 0 && <label>×{notPlayingCount}</label>}\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { startAllInGroup, stopAllInGroup, setGroupIsExpanded } from \"../../slices/groups\";\r\nimport DefaultButton from \"../../widgets/buttons/DefaultButton\";\r\nimport startAllIcon from \"../../assets/icon-start-all.svg\";\r\nimport stopIcon from \"../../assets/icon-stop.svg\";\r\nimport caretDownIcon from \"../../assets/icon-caret-down.svg\";\r\nimport caretRightIcon from \"../../assets/icon-caret-right.svg\";\r\nimport { Track } from \"../../models/Track\";\r\n\r\nimport \"./GroupControls.scss\";\r\nimport TrackListGroupSummary from \"../TrackListGroupSummary\";\r\n\r\ntype GroupControlsProps = {\r\n  groupIndex: number,\r\n  isExpanded: boolean,\r\n  tracks: Track[]\r\n};\r\n\r\nexport default function GroupControls({\r\n  groupIndex,\r\n  isExpanded,\r\n  tracks\r\n}: GroupControlsProps) {\r\n  const dispatch = useDispatch();\r\n  const firstPlayingChild = tracks.find(track => track.isPlaying === true);\r\n  const isChildPlaying = firstPlayingChild !== undefined;\r\n  function startAll() {\r\n    dispatch(startAllInGroup({ groupIndex }));\r\n  }\r\n  function stopAll() {\r\n    dispatch(stopAllInGroup({ groupIndex }));\r\n  }\r\n  function toggleIsExpanded() {\r\n    dispatch(setGroupIsExpanded({\r\n      groupIndex,\r\n      isExpanded: !isExpanded\r\n    }));\r\n  }\r\n  if (tracks.length < 2) return null;\r\n  return (\r\n    <div className={'group-controls-container' + (isExpanded ? ' space-between' : '')}>\r\n      <DefaultButton\r\n        onClick={toggleIsExpanded}\r\n        icon={isExpanded ? caretDownIcon : caretRightIcon}\r\n        text={isExpanded ? 'Collapse' : 'Expand'}\r\n        iconAltText={isExpanded ? 'Collapse group' : 'Expand group'}\r\n        isRound={true}\r\n      />\r\n      {!isExpanded && <TrackListGroupSummary tracks={tracks} />}\r\n      <DefaultButton\r\n        onClick={isChildPlaying ? stopAll : startAll}\r\n        icon={isChildPlaying ? stopIcon : startAllIcon}\r\n        text={(isChildPlaying ? 'Stop' : 'Start') + ' all'}\r\n        className={'fixed-width'}\r\n      />\r\n    </div>\r\n  );\r\n}","import React, { useEffect, useRef, useState } from \"react\";\r\nimport useBoolean from \"../hooks/useBoolean\";\r\n\r\nimport \"./EditableHeader.scss\";\r\n\r\ntype EditableHeaderProps = {\r\n  initialText: string,\r\n  onSave: (text: string) => void\r\n};\r\n\r\nexport default function EditableHeader({ initialText, onSave }: EditableHeaderProps) {\r\n  const [text, setText] = useState(initialText);\r\n  const [isEditModeActive, , toggleIsEditModeActive] = useBoolean(false);\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (!isEditModeActive) {\r\n      const trimmedText = text.trim();\r\n      const nonEmptyText = trimmedText === '' ? 'Untitled group' : trimmedText;\r\n      setText(nonEmptyText)\r\n      onSave(nonEmptyText);\r\n    }\r\n  }, [isEditModeActive, text, onSave]);\r\n\r\n  useEffect(() => {\r\n    if (isEditModeActive && inputRef.current !== null) {\r\n      // Focus and highlight text whenever it becomes editable\r\n      inputRef.current.focus();\r\n      inputRef.current.select();\r\n    }\r\n  }, [isEditModeActive]);\r\n\r\n  function onInput(e: React.KeyboardEvent<HTMLInputElement>) {\r\n    switch (e.key) {\r\n      case 'Enter':\r\n        toggleIsEditModeActive();\r\n        break;\r\n      case 'Escape':\r\n        setText(initialText);\r\n        toggleIsEditModeActive();\r\n        break;\r\n    }\r\n  }\r\n\r\n  function staticTextKeyHandler(event: React.KeyboardEvent<HTMLHeadingElement>) {\r\n    switch (event.key) {\r\n      case 'Enter':\r\n        toggleIsEditModeActive();\r\n        break;\r\n      case ' ':\r\n        toggleIsEditModeActive();\r\n        break;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"editable-header-container\">\r\n      {\r\n        isEditModeActive\r\n          ? <input\r\n            type=\"text\"\r\n            value={text}\r\n            ref={inputRef}\r\n            onChange={e => setText(e.target.value)}\r\n            onKeyDown={onInput}\r\n            onBlur={toggleIsEditModeActive}\r\n          />\r\n          : <h3\r\n            className=\"static-text\"\r\n            tabIndex={0}\r\n            onClick={toggleIsEditModeActive}\r\n            onKeyDown={staticTextKeyHandler}\r\n          > {text}</h3>\r\n      }\r\n    </div >\r\n  );\r\n}","import React from \"react\";\r\nimport DefaultButton from \"../../widgets/buttons/DefaultButton\";\r\nimport closeIcon from \"../../assets/icon-close.svg\";\r\nimport { Group } from \"../../models/Group\";\r\n\r\nimport \"./TrackListGroup.scss\";\r\nimport { isLoop, isOneShot, isUnloaded, isUnloadedLoop, Track } from \"../../models/Track\";\r\nimport LoopTrackItem from \"./LoopTrackItem\";\r\nimport OneShotTrackItem from \"./OneShotTrackItem\";\r\nimport UnloadedTrackItem from \"./UnloadedTrackItem\";\r\nimport SearchDropdown from \"../SearchDropdown/SearchDropdown\";\r\nimport { SearchResult } from \"../../models/SearchResult\";\r\nimport { NEW_GROUP } from \"./TrackList\";\r\nimport GroupControls from \"./GroupControls\";\r\nimport { removeGroup, setGroupName } from \"../../slices/groups\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport EditableHeader from \"../../widgets/EditableHeader\";\r\nimport AddSoundsButton from \"../../widgets/buttons/AddSoundsButton\";\r\n\r\ntype GroupProps = {\r\n  searchTarget: number | null | typeof NEW_GROUP,\r\n  setSearchTarget: (searchTarget: number | null) => void,\r\n  group: Group,\r\n  results: SearchResult[],\r\n  isFetchingResults: boolean,\r\n  searchText: string,\r\n  setSearchText: (searchText: string) => void,\r\n  appendSearchText: (searchText: string) => void\r\n};\r\n\r\nfunction constructKey(track: Track, group: Group) {\r\n  return group.index + '-' + track.index;\r\n}\r\n\r\nfunction listItemFromTrack(\r\n  track: Track,\r\n  group: Group,\r\n  isSearchOpen: boolean,\r\n  isGroupExpanded: boolean,\r\n  appendSearchText: (text: string) => void\r\n) {\r\n  const { index: groupIndex } = group;\r\n  if (isLoop(track) || isUnloadedLoop(track)) {\r\n    return <LoopTrackItem\r\n      key={constructKey(track, group)}\r\n      groupIndex={groupIndex}\r\n      loop={track}\r\n      isVisible={isGroupExpanded}\r\n      isSearchOpen={isSearchOpen}\r\n      onTagClick={appendSearchText}\r\n      groupVolume={group.volume}\r\n    />\r\n  } else if (isOneShot(track)) {\r\n    return <OneShotTrackItem\r\n      key={constructKey(track, group)}\r\n      groupIndex={groupIndex}\r\n      oneShot={track}\r\n      isVisible={isGroupExpanded}\r\n      isSearchOpen={isSearchOpen}\r\n      onTagClick={appendSearchText}\r\n      groupVolume={group.volume}\r\n    />\r\n  } else if (isUnloaded(track)) {\r\n    return <UnloadedTrackItem\r\n      key={constructKey(track, group)}\r\n      unloadedTrack={track}\r\n      groupIndex={groupIndex}\r\n      isVisible={isGroupExpanded}\r\n      isSearchOpen={isSearchOpen}\r\n      onTagClick={appendSearchText}\r\n    />\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default function TrackListGroup({\r\n  searchTarget,\r\n  setSearchTarget,\r\n  group,\r\n  results,\r\n  isFetchingResults,\r\n  searchText,\r\n  setSearchText,\r\n  appendSearchText\r\n}: GroupProps) {\r\n  const dispatch = useDispatch();\r\n  const isSearchModeActive = searchTarget !== null;\r\n  const { isExpanded, index } = group;\r\n  const isThisGroupSearching = searchTarget === index;\r\n\r\n  function onCloseButtonClick() {\r\n    dispatch(removeGroup({ groupIndex: index }));\r\n  }\r\n\r\n  function saveGroupName(name: string) {\r\n    dispatch(setGroupName({ groupIndex: index, name }));\r\n  }\r\n\r\n  return (\r\n    <div className=\"group-container\">\r\n      <div className=\"header\">\r\n        <EditableHeader\r\n          initialText={group.name}\r\n          onSave={saveGroupName}\r\n        />\r\n        <DefaultButton\r\n          onClick={onCloseButtonClick}\r\n          icon={closeIcon}\r\n          iconAltText=\"Delete group\"\r\n          isRound={true}\r\n          isDisabled={isSearchModeActive}\r\n        />\r\n      </div>\r\n      <GroupControls\r\n        groupIndex={index}\r\n        isExpanded={isExpanded}\r\n        tracks={group.tracks}\r\n      />\r\n      <div>\r\n        {group.tracks.map(track =>\r\n          listItemFromTrack(\r\n            track,\r\n            group,\r\n            isSearchModeActive,\r\n            isExpanded,\r\n            appendSearchText\r\n          )\r\n        )}\r\n      </div>\r\n      {\r\n        isThisGroupSearching\r\n          ? <SearchDropdown\r\n            closeSearchDropdown={() => { setSearchTarget(null) }}\r\n            searchText={searchText}\r\n            setSearchText={setSearchText}\r\n            appendSearchText={appendSearchText}\r\n            isFetchingResults={isFetchingResults}\r\n            results={results}\r\n            searchTarget={searchTarget}\r\n          />\r\n          : group.isExpanded && <AddSoundsButton\r\n            onClick={() => setSearchTarget(index)}\r\n            text={`Add sounds to \"${group.name}\"`}\r\n          />\r\n      }\r\n    </div >\r\n  );\r\n}","import React, { useState } from \"react\";\r\nimport { fetchSearchResults } from \"../../services/database\";\r\nimport { useGroups } from \"../../slices\";\r\nimport AddSoundsButton from \"../../widgets/buttons/AddSoundsButton\";\r\nimport SearchDropdown from \"../SearchDropdown/SearchDropdown\";\r\nimport useSearchResults from \"../SearchDropdown/useSearchResults\";\r\n\r\nimport \"./TrackList.scss\";\r\nimport TrackListGroup from \"./TrackListGroup\";\r\n\r\nexport const NEW_GROUP = 'NEW_GROUP';\r\n\r\nexport default function TrackList() {\r\n  const groups = useGroups();\r\n  const [searchTarget, setSearchTarget] = useState<number | null | typeof NEW_GROUP>(null);\r\n  const {\r\n    results,\r\n    isFetchingResults,\r\n    searchText,\r\n    setSearchText,\r\n    appendSearchText\r\n  } = useSearchResults(fetchSearchResults);\r\n\r\n  const addButtonText = 'Add sounds' + (groups.length > 0 ? ' to new group' : '');\r\n\r\n  return (\r\n    <div className=\"track-list-container\">\r\n      {\r\n        searchTarget === NEW_GROUP\r\n          ? <SearchDropdown\r\n            closeSearchDropdown={() => { setSearchTarget(null) }}\r\n            searchText={searchText}\r\n            setSearchText={setSearchText}\r\n            appendSearchText={appendSearchText}\r\n            isFetchingResults={isFetchingResults}\r\n            results={results}\r\n            searchTarget={searchTarget}\r\n          />\r\n          : <AddSoundsButton\r\n            onClick={() => setSearchTarget(NEW_GROUP)}\r\n            text={addButtonText}\r\n          />\r\n      }\r\n      {\r\n        groups.map(group =>\r\n          <TrackListGroup\r\n            key={group.index}\r\n            group={group}\r\n            searchTarget={searchTarget}\r\n            setSearchTarget={setSearchTarget}\r\n            results={results}\r\n            isFetchingResults={isFetchingResults}\r\n            searchText={searchText}\r\n            setSearchText={setSearchText}\r\n            appendSearchText={appendSearchText}\r\n          />\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}","import { useEffect, useState } from \"react\";\r\n\r\nexport default function useSearchResults<T>(fetchFunction: (searchText: string) => Promise<T[]>) {\r\n  const [results, setResults] = useState<T[]>([]);\r\n  const [isFetchingResults, setIsFetchingResults] = useState(false);\r\n  const [searchText, setSearchText] = useState('');\r\n\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n    async function fetch() {\r\n      const results = await fetchFunction(searchText);\r\n      if (isCancelled) return;\r\n      setResults(results);\r\n      setIsFetchingResults(false);\r\n    }\r\n\r\n    setIsFetchingResults(true);\r\n    fetch();\r\n\r\n    return () => {\r\n      isCancelled = true;\r\n    }\r\n  }, [searchText, fetchFunction]);\r\n\r\n  function appendSearchText(text: string) {\r\n    if (searchText.trim().length === 0) {\r\n      setSearchText(text);\r\n      return;\r\n    }\r\n    setSearchText(searchText.trim() + ' ' + text);\r\n  }\r\n\r\n  return {\r\n    results,\r\n    isFetchingResults,\r\n    searchText,\r\n    setSearchText,\r\n    appendSearchText\r\n  };\r\n}","export default __webpack_public_path__ + \"static/media/logo.311742e0.svg\";","export default __webpack_public_path__ + \"static/media/icon-question-mark.f82b9f14.svg\";","import React from \"react\";\r\nimport logo from '../logo.svg';\r\nimport questionMarkIcon from \"../assets/icon-question-mark.svg\";\r\nimport backIcon from \"../assets/icon-back.svg\";\r\n\r\nimport \"./AppHeader.scss\";\r\nimport DefaultButton from \"./buttons/DefaultButton\";\r\n\r\ntype AppHeaderProps = {\r\n  isAboutOpen: boolean,\r\n  setIsAboutOpen: (newValue: boolean) => void\r\n};\r\n\r\nexport default function AppHeader({\r\n  isAboutOpen,\r\n  setIsAboutOpen\r\n}: AppHeaderProps) {\r\n  const className = 'app-header-container' +\r\n    (isAboutOpen ? ' about-open' : '');\r\n  return (\r\n    <div className={className}>\r\n      {isAboutOpen && <DefaultButton\r\n        icon={backIcon}\r\n        iconAltText=\"Back arrow\"\r\n        onClick={() => setIsAboutOpen(false)}\r\n      />}\r\n      <img src={logo} className=\"logo\" alt=\"TurboBard logo\" />\r\n      {!isAboutOpen && <DefaultButton\r\n        icon={questionMarkIcon}\r\n        iconAltText=\"About TurboBard\"\r\n        isRound={true}\r\n        onClick={() => setIsAboutOpen(true)}\r\n      />}\r\n    </div>\r\n  );\r\n}","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport './App.scss';\nimport AboutPage from './components/AboutPage';\nimport TrackList from './components/TrackList/TrackList';\nimport useBoolean from './hooks/useBoolean';\nimport { loadGroupsFromStorage } from './slices/groups';\nimport AppHeader from './widgets/AppHeader';\n\nfunction App() {\n  const [isAboutOpen, setIsAboutOpen] = useBoolean(false);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    // Once, when the app first renders, load saved state\n    //  from the last time the user used this site.\n    dispatch(loadGroupsFromStorage());\n  }, [dispatch]);\n\n  useEffect(() => {\n    // Close about page when Escape is pressed.\n    const keyPressHandler = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isAboutOpen) {\n        setIsAboutOpen(false);\n      }\n    };\n    window.addEventListener(\"keydown\", keyPressHandler);\n    return () => {\n      window.removeEventListener(\"keydown\", keyPressHandler);\n    }\n  });\n\n  return (\n    <div className=\"App\">\n      <AppHeader\n        isAboutOpen={isAboutOpen}\n        setIsAboutOpen={setIsAboutOpen}\n      />\n      {isAboutOpen && <AboutPage closeAboutPage={() => { setIsAboutOpen(false); }} />}\n      <TrackList />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { configureStore } from '@reduxjs/toolkit';\nimport { rootReducer } from './slices/index';\n\nconst store = configureStore({\n  reducer: rootReducer\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}